<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>H·ªßy l·ªãch kh√°m</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/styles.css">
</head>

<body>
  <div class="page-container d-flex flex-column min-vh-100">
    <!-- Header -->
    <header class="py-3 shadow-sm">
      <div class="container d-flex justify-content-between align-items-center">
        <h1 class="h4 mb-0">üè• B·ªánh vi·ªán ABC</h1>
        <nav class="d-flex align-items-center">
          <a href="index.html" class="nav-link">Trang ch·ªß</a>
          <a href="register.html" class="nav-link">ƒêƒÉng k√Ω kh√°m</a>
          <a href="about.html" class="nav-link">Gi·ªõi thi·ªáu</a>
        </nav>
      </div>
    </header>

    <!-- Main -->
    <main class="container my-5 flex-fill">
      <h2 class="text-center text-danger mb-4">H·ªßy l·ªãch kh√°m</h2>

      <!-- Th√¥ng tin l·ªãch kh√°m -->
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">L·ªãch kh√°m: LK20250001</h5>
          <p class="mb-1"><strong>B·ªánh nh√¢n:</strong> Nguy·ªÖn VƒÉn A</p>
          <p class="mb-1"><strong>B√°c sƒ©:</strong> BS. Tr·∫ßn VƒÉn B</p>
          <p class="mb-1"><strong>Th·ªùi gian kh√°m:</strong> 20/07/2025 - 09:00</p>
          <p class="text-muted mb-0"><em>* B·∫°n ch·ªâ c√≥ th·ªÉ h·ªßy l·ªãch tr∆∞·ªõc 2 gi·ªù so v·ªõi th·ªùi gian kh√°m.</em></p>
        </div>
      </div>

      <!-- Form nh·∫≠p l√Ω do -->
      <form id="cancelForm">
        <div class="mb-3">
          <label for="cancelReason" class="form-label">L√Ω do h·ªßy (t√πy ch·ªçn)</label>
          <textarea class="form-control" id="cancelReason" rows="3" placeholder="Nh·∫≠p l√Ω do n·∫øu c√≥..."></textarea>
        </div>

        <div class="alert alert-warning">
          B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën <strong>h·ªßy l·ªãch kh√°m</strong> n√†y? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.
        </div>

        <div class="text-end">
          <button type="submit" class="btn btn-danger">X√°c nh·∫≠n h·ªßy</button>
        </div>
      </form>

      <!-- K·∫øt qu·∫£ x·ª≠ l√Ω -->
      <div class="mt-4 alert alert-success d-none" id="successMessage">
        L·ªãch kh√°m ƒë√£ ƒë∆∞·ª£c h·ªßy th√†nh c√¥ng. B√°c sƒ© s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o.
      </div>

      <div class="mt-4 alert alert-danger d-none" id="errorMessage">
        H·ªá th·ªëng g·∫∑p l·ªói khi x·ª≠ l√Ω y√™u c·∫ßu. Vui l√≤ng th·ª≠ l·∫°i.
      </div>

      <div class="mt-4 alert alert-info d-none" id="lateMessage">
        Kh√¥ng th·ªÉ h·ªßy l·ªãch trong th·ªùi gian n√†y. Vui l√≤ng li√™n h·ªá tr·ª±c ti·∫øp v·ªõi b·ªánh vi·ªán.
      </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-4 mt-5">
      <div class="container">
        <p class="mb-1">¬© 2025 B·ªánh vi·ªán ABC - H·ªá th·ªëng qu·∫£n l√Ω b·ªánh vi·ªán</p>
        <small>Li√™n h·ªá: 0123 456 789 | Email: support@benhvienabc.vn</small>
      </div>
    </footer>
  </div>

  <script>
    document.getElementById("cancelForm").addEventListener("submit", function (e) {
      e.preventDefault();

      // M√¥ ph·ªèng th·ªùi gian hi·ªán t·∫°i vs th·ªùi gian kh√°m
      const now = new Date();
      const appointmentTime = new Date("2025-07-20T09:00:00");
      const diffHours = (appointmentTime - now) / (1000 * 60 * 60);

      if (diffHours < 2) {
        document.getElementById("lateMessage").classList.remove("d-none");
        return;
      }

      // M√¥ ph·ªèng x·ª≠ l√Ω th√†nh c√¥ng ho·∫∑c l·ªói
      const random = Math.random();
      if (random < 0.8) {
        document.getElementById("successMessage").classList.remove("d-none");
        document.getElementById("errorMessage").classList.add("d-none");
        document.getElementById("lateMessage").classList.add("d-none");
      } else {
        document.getElementById("errorMessage").classList.remove("d-none");
      }
    });
  </script>
</body>

</html>
